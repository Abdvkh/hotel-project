$(document).ready((function(){"use strict";if($("form").is("#placemark_form")){const mapID=$("#id_ymap option:selected").val();if(mapID){const inputUserIP=$("#id_user_ip"),csrftoken=$('input[name="csrfmiddlewaretoken"').val();inputUserIP.after('<span class="view_icon block_ip" title="'+window.gettext("Block IP")+'"><span class="mdi mdi-cancel"></span></span>'),$(document).on("click",".block_ip",(function(){const ip=inputUserIP.val();$.post("/djeym/ajax-block-ip-address/",{ip:ip,csrfmiddlewaretoken:csrftoken}).done((function(){alert(ip+" --\x3e "+window.gettext("Added to the list of blocked IPs."))})).fail((function(jqxhr,textStatus,error){const err=textStatus+", "+error;let errDetail="";void 0!==jqxhr.responseJSON&&void 0!==jqxhr.responseJSON.detail&&(errDetail=jqxhr.responseJSON.detail),0!==errDetail.length?(console.log("Request Failed: "+err+" - "+errDetail),alert(errDetail.replace(/<.*?>/g,""))):console.log("Request Failed: "+err)}))}))}}}));